"use strict";(self.webpackChunktictactoe=self.webpackChunktictactoe||[]).push([[628],{280:(e,r,t)=>{t.d(r,{A:()=>g});var a=t(579);const l={o:"blue",x:"red"},n=e=>{let{count:r=0,playerName:t="Player",weapon:n,currentPlayer:o}=e;const s={true:l[n],false:"white"};return(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("span",{children:r}),(0,a.jsxs)("div",{className:`border-b-8 border-${s[`${o===n}`]}-500`,children:[(0,a.jsx)("span",{className:`text-${l[`${n}`]}-500 text-2xl`,children:n}),(0,a.jsx)("span",{children:t})]})]})};var o=t(320),s=t(43);const i=e=>{let{}=e;return(0,a.jsx)("div",{className:"w-16 h-16 border-8 border-blue-400 rounded-full"})},c=e=>{let{}=e;return(0,a.jsxs)(s.Fragment,{children:[(0,a.jsx)("div",{className:"absolute w-20 h-2 bg-red-600 rotate-45"}),(0,a.jsx)("div",{className:"absolute w-20 h-2 bg-red-600 -rotate-45"})]})};var u=t(522),f=t(678);const m=e=>{let{gameOverType:r}=e;return(0,a.jsx)("div",{className:{TG:"",LD:"absolute top-0 left-0 w-[130%] h-[6px] bg-yellow-500 rotate-45 origin-top-left animate-growLeftDiagonal",RD:"absolute top-0 right-0 w-[141%] h-[6px] bg-yellow-500 -rotate-45 origin-right animate-growRightDiagnal",row1:"absolute bg-yellow-500 animate-grow transform top-[15%] left-0 w-full h-2",row2:"absolute bg-yellow-500 animate-grow transform top-[47.5%] left-0 w-full h-2",row3:"absolute bg-yellow-500 animate-grow transform top-[80%] left-0 w-full h-2",col1:"absolute top-0 left-[16.5%] w-2 h-full bg-yellow-500 animate-grow-vert",col2:"absolute bg-yellow-500 animate-grow-vert transform left-[48.5%] top-0 h-full w-2",col3:"absolute bg-yellow-500 animate-grow-vert transform left-[80%] top-0 h-full w-2"}[r]})},d=[" border-r-8 border-b-8 border-gray-400 "," border-r-8 border-b-8  border-gray-400 "," border-b-8 border-gray-400 "," border-r-8 border-b-8 "," border-r-8 border-b-8 "," border-b-8 "," border-r-8 "," border-r-8 "," flex "],h=e=>{let{}=e;const{gameType:r,board:t,setBoard:l,currentPlayer:n,setCurrentPlayer:o,gameWinner:h,gameInfo:x,handleGameOver:y}=(0,u.Im)(),g={o:(0,a.jsx)(i,{}),x:(0,a.jsx)(c,{})},v=(e,a)=>{if(n!==x.me.weapon&&"pvai"===r)return;let s=t.flat();if(!s[e]){s[e]=a;let r=(0,f.xt)(s,3);y(r),o("o"===n?"x":"o"),l([...r])}};return(0,a.jsx)(s.Fragment,{children:(0,a.jsxs)("div",{className:"grid grid-cols-3 grid-rows-3 w-72 h-72  relative",children:[d.map((e,r)=>(0,a.jsx)("div",{className:`${e} border-gray-400 flex items-center justify-center cursor-pointer`,onClick:v.bind(void 0,r,n),children:g[t.flat()[r]]},r)),h&&"TG"!==h.type&&(0,a.jsx)(m,{gameOverType:h.type})]})})},x=e=>{let{message:r}=e;const[t,l]=(0,s.useState)(5);return(0,s.useEffect)(()=>{if(t>0){let e=setInterval(()=>{l(t-1),clearInterval(e)},1e3)}},[t]),(0,a.jsxs)("div",{className:"flex justify-center flex-col items-center w-full h-full bg-gray-500/50 text-white text-2xl square",children:[(0,a.jsx)("p",{children:r}),(0,a.jsxs)("p",{children:[" replaying game in ",t]})]})},y=e=>{let{players:r,aiPlayer:t,setAiPlayer:l}=e;return(0,a.jsx)("select",{value:t,onChange:e=>l(e.target.value),children:r.map((e,r)=>(0,a.jsx)("option",{value:e.value,children:e.name},r))})},g=e=>{let{}=e;const{gameWinner:r,gameInfo:t,currentPlayer:l,gameType:i,setAiPlayer:c,aiPlayer:f}=(0,u.Im)(),m={pvai:(0,a.jsx)(y,{players:Object.values(u.JJ),aiPlayer:f,setAiPlayer:c})};return(0,a.jsxs)(s.Fragment,{children:[(0,a.jsxs)("div",{className:"flex flex-col h-full justify-between",children:[(0,a.jsxs)("div",{className:"flex w-full justify-between",children:[(0,a.jsx)(o.A,{title:"Main Menu",link:"/"}),m[i],(0,a.jsx)(o.A,{title:"Reset Score",color:"red",link:"/"})]}),(0,a.jsx)("div",{className:"flex w-full justify-center",children:(0,a.jsx)(h,{})}),(0,a.jsxs)("div",{className:"flex w-full justify-around",children:[(0,a.jsx)(n,{currentPlayer:l,playerName:t.o.name,count:t.o.score,weapon:"o"}),(0,a.jsx)(n,{currentPlayer:l,playerName:t.t.name,count:t.t.score,weapon:"t"}),(0,a.jsx)(n,{currentPlayer:l,playerName:t.x.name,count:t.x.score,weapon:"x"})]})]}),(0,a.jsx)("div",{className:"mt-[-84%] flex w-full h-[101%]",children:r&&(0,a.jsx)(x,{message:`${r.value} has won the match`})})]})}},320:(e,r,t)=>{t.d(r,{A:()=>o});var a=t(43),l=t(615),n=t(579);const o=e=>{let{title:r="Click Me",link:t="/",color:o="green"}=e,s=new Map;return s.set("green","from-green-400 via-green-500 to-green-600 hover:from-green-500 hover:to-green-700"),s.set("red","from-red-400 via-red-500 to-red-600 hover:from-red-500 hover:to-red-700"),(0,n.jsx)(a.Fragment,{children:(0,n.jsx)(l.N_,{to:t,className:`text-center inline-block bg-gradient-to-r ${s.get(o)} text-white font-semibold py-2 px-6 rounded-lg shadow-md  transition-all duration-300`,children:r})})}},522:(e,r,t)=>{t.d(r,{Im:()=>f,JJ:()=>i,Sj:()=>u});var a=t(43),l=t(678),n=t(579);const o=[["","",""],["","",""],["","",""]],s={me:{name:"Player1",weapon:"o",score:0},o:{name:"Player1",weapon:"o",score:0},x:{name:"Player2",weapon:"x",score:0},t:{name:"TIE",weapon:"t",score:0}},i={e:{value:"e",name:"Easy",method:l.K_},m:{value:"m",name:"Medium",method:l.f0},h:{value:"h",name:"Hard",method:l.ue}},c=(0,a.createContext)(void 0),u=e=>{let{children:r,gameType:t}=e;const[u,f]=(0,a.useState)(o),[m,d]=(0,a.useState)("o"),[h,x]=(0,a.useState)(s),[y,g]=(0,a.useState)(!1),[v,p]=(0,a.useState)("e");(0,a.useEffect)(()=>{w()},[u]);const w=async()=>{if("pvai"===t&&h.me.weapon!==m&&!y){let e=await i[v].method(u,m);b(e),f([...e]),d("o"===m?"x":"o")}},b=e=>{const r=(0,l.Pn)(e);if(g(r),r){h[r.value].score+=1,x({...h});let e=setTimeout(()=>{j(),clearTimeout(e)},5e3)}},j=()=>{f(o),d("o"),g(!1)};return(0,n.jsx)(c.Provider,{value:{gameType:t,board:u,setBoard:f,currentPlayer:m,setCurrentPlayer:d,aiPlayer:v,setAiPlayer:p,gameWinner:y,setGameWinner:g,resetGame:j,resetScore:()=>{x(s)},gameInfo:h,setGameInfo:x,handleGameOver:b},children:r})},f=()=>{const e=(0,a.useContext)(c);if(!e)throw new Error("useGame must be used within a GameProvider");return e}},628:(e,r,t)=>{t.r(r),t.d(r,{default:()=>s});var a=t(280),l=t(522),n=t(43),o=t(579);const s=e=>{let{}=e;return(0,o.jsx)(n.Fragment,{children:(0,o.jsx)(l.Sj,{gameType:"pvai",children:(0,o.jsx)(a.A,{})})})}},678:(e,r,t)=>{t.d(r,{K_:()=>o,Pn:()=>l,f0:()=>f,ue:()=>d,xt:()=>a});const a=(e,r)=>Array.from({length:Math.ceil(e.length/r)},(t,a)=>e.slice(a*r,a*r+r)),l=e=>{let r=n(e);return r.length>0&&r[0]},n=e=>{const r=[],t=e.length;e.forEach((e,t)=>{e.every(r=>r===e[0])&&""!==e[0]&&r.push({type:`row${t+1}`,value:e[0]})});for(let n=0;n<t;n++){const a=e[0][n];let l=!0;for(let r=1;r<t;r++)if(e[r][n]!==a){l=!1;break}l&&""!==a&&r.push({type:`col${n+1}`,value:a})}const a=e[0][0];e.every((e,r)=>e[r]===a)&&""!==a&&r.push({type:"LD",value:a});const l=e[0][t-1];if(e.every((e,r)=>e[t-1-r]===l)&&""!==l&&r.push({type:"RD",value:l}),r.length<1){(e=>e.every(e=>e.every(e=>""!==e.trim())))(e)&&r.push({type:"TG",value:"t"})}return r},o=async(e,r)=>{let t=[],l=e.flat();l.forEach((e,r)=>{""===e&&t.push(r)});const n=Math.max(...t),o=Math.min(...t);let c=i(o,n);for(;!t.includes(c);)c=i(o,n);return l[c]=r,await s(1e3),a(l,3)};function s(e){return new Promise(r=>setTimeout(r,e))}const i=(e,r)=>Math.floor(Math.random()*(r-e+1))+e;function c(e){return"x"===e?"o":"x"}function u(e,r,t,a){const l=function(e,r){const t=c(r),a=[...e,[0,1,2].map(r=>[e[0][r],e[1][r],e[2][r]]),[e[0][0],e[1][1],e[2][2]],[e[0][2],e[1][1],e[2][0]]];for(const l of a){if(l.every(e=>e===r))return 10;if(l.every(e=>e===t))return-10}return 0}(e,a);if(10===l||-10===l)return l-r;if(!function(e){return e.some(e=>e.includes(""))}(e))return 0;const n=c(a);let o=t?-1/0:1/0;for(let s=0;s<3;s++)for(let l=0;l<3;l++)if(""===e[s][l]){e[s][l]=t?a:n;const i=u(e,r+1,!t,a);e[s][l]="",o=t?Math.max(o,i):Math.min(o,i)}return o}const f=async(e,r)=>{let t=-1/0,a=[-1,-1];for(let s=0;s<3;s++)for(let l=0;l<3;l++)if(""===e[s][l]){e[s][l]=r;const n=u(e,0,!1,r);e[s][l]="",n>t&&(t=n,a=[s,l])}const l=function(e){return e.map(e=>[...e])}(e),[n,o]=a;return-1!==n&&-1!==o&&(l[n][o]=r),await s(1e3),l},m=()=>{let e="x",r="o";const t=(a,l,n)=>{const o=(t=>{for(let a=0;a<3;a++)if(t[a][0]===t[a][1]&&t[a][1]===t[a][2]){if(t[a][0]===e)return 10;if(t[a][0]===r)return-10}for(let a=0;a<3;a++)if(t[0][a]===t[1][a]&&t[1][a]===t[2][a]){if(t[0][a]===e)return 10;if(t[0][a]===r)return-10}if(t[0][0]===t[1][1]&&t[1][1]===t[2][2]){if(t[0][0]===e)return 10;if(t[0][0]===r)return-10}if(t[0][2]===t[1][1]&&t[1][1]===t[2][0]){if(t[0][2]===e)return 10;if(t[0][2]===r)return-10}return 0})(a);if(10===o||-10===o)return o;if(!(e=>{for(let r=0;r<3;r++)for(let t=0;t<3;t++)if(""===e[r][t])return!0;return!1})(a))return 0;if(n){let r=-1/0;for(let n=0;n<3;n++)for(let o=0;o<3;o++)""===a[n][o]&&(a[n][o]=e,r=Math.max(r,t(a,l+1,!1)),a[n][o]="");return r}{let e=1/0;for(let n=0;n<3;n++)for(let o=0;o<3;o++)""===a[n][o]&&(a[n][o]=r,e=Math.min(e,t(a,l+1,!0)),a[n][o]="");return e}};return{findBestMove:r=>{let a=-1/0,l={row:-1,col:-1};for(let n=0;n<3;n++)for(let o=0;o<3;o++)if(""===r[n][o]){r[n][o]=e;const s=t(r,0,!1);r[n][o]="",s>a&&(a=s,l={row:n,col:o})}return l},setPlayer(t){e=t,r="x"===t?"o":"x"}}},d=async(e,r)=>{const t=m();t.setPlayer(r);const a=t.findBestMove(e);return console.log("Best move for AI:",a),e[a.row][a.col]=r,await s(1e3),e}}}]);
//# sourceMappingURL=628.7d0dc3de.chunk.js.map